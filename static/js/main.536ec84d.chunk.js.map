{"version":3,"sources":["apis/countries.js","components/CountryItem.js","components/CountryList.js","components/Map.js","components/Game.js","components/App.js","index.js"],"names":["axios","create","baseURL","CountryItem","country","onCountryClick","option","className","onClick","CountryList","countries","answer","Map","corner1","L","latLng","corner2","bounds","latLngBounds","MapContainer","center","zoom","doubleClickZoom","touchZoom","zoomSnap","zoomDelta","trackResize","scrollWheelZoom","maxBoundsViscosity","maxBounds","TileLayer","url","attribution","Marker","position","Number","this","props","lat","long","keepInView","autoPan","React","Component","Game","state","capitalCity","options","score","setState","setCountries","chooseCountries","Math","floor","random","length","capital","latlng","map","item","name","a","countriesService","get","params","fields","response","data","filter","arr","n","result","Array","len","taken","RangeError","x","style","paddingTop","city","App","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.536ec84d.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nexport default axios.create({\r\n  baseURL: 'https://restcountries.eu/rest/v2',\r\n});\r\n","import './CountryItem.css';\r\nimport React from 'react';\r\n\r\nconst CountryItem = ({ country, onCountryClick, option }) => {\r\n  return (\r\n    <div className=\"six wide column center aligned\">\r\n      <div\r\n        className=\"ui huge segment city\"\r\n        onClick={() => onCountryClick(option)}\r\n      >\r\n        {country}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountryItem;\r\n","import React from 'react';\r\nimport CountryItem from './CountryItem';\r\n\r\nconst CountryList = ({ countries, onCountryClick, answer }) => {\r\n  return (\r\n    <div className=\"ui two centered grid\">\r\n      <div className=\"sixteen column centered row\">\r\n        <CountryItem\r\n          country={countries[0]}\r\n          onCountryClick={onCountryClick}\r\n          option={0}\r\n          answer={answer}\r\n        />\r\n        <CountryItem\r\n          country={countries[1]}\r\n          onCountryClick={onCountryClick}\r\n          option={1}\r\n          answer={answer}\r\n        />\r\n      </div>\r\n      <div className=\"sixteen column centered row\">\r\n        <CountryItem\r\n          country={countries[2]}\r\n          onCountryClick={onCountryClick}\r\n          option={2}\r\n          answer={answer}\r\n        />\r\n        <CountryItem\r\n          country={countries[3]}\r\n          onCountryClick={onCountryClick}\r\n          option={3}\r\n          answer={answer}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CountryList;\r\n","import './Map.css';\r\nimport React from 'react';\r\nimport { MapContainer, Marker, Popup, TileLayer } from 'react-leaflet';\r\nimport L from 'leaflet';\r\n\r\nclass Map extends React.Component {\r\n  render() {\r\n    const corner1 = L.latLng(-90, -200);\r\n    const corner2 = L.latLng(90, 200);\r\n    const bounds = L.latLngBounds(corner1, corner2);\r\n    const url = 'http://tile.stamen.com/terrain-background/{z}/{x}/{y}.jpg';\r\n\r\n    return (\r\n      <MapContainer\r\n        center={[5, 0]}\r\n        zoom={2}\r\n        doubleClickZoom={false}\r\n        touchZoom={false}\r\n        zoomSnap={false}\r\n        zoomDelta={false}\r\n        trackResize={false}\r\n        scrollWheelZoom={false}\r\n        maxBoundsViscosity={1.0}\r\n        maxBounds={bounds}\r\n      >\r\n        <TileLayer\r\n          url={url}\r\n          attribution='Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, \r\n          under <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>. \r\n          Data by <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, under \r\n          <a href=\"http://www.openstreetmap.org/copyright\">ODbL</a>.'\r\n        />\r\n        <Marker\r\n          position={[Number(this.props.lat), Number(this.props.long)]}\r\n          keepInView={true}\r\n          autoPan={true}\r\n        />\r\n      </MapContainer>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Map;\r\n","import './Game.css';\r\nimport React from 'react';\r\nimport countriesService from '../apis/countries';\r\nimport CountryList from './CountryList';\r\nimport Map from './Map';\r\n\r\nclass Game extends React.Component {\r\n  state = {\r\n    capitalCity: '',\r\n    lat: null,\r\n    long: null,\r\n    countries: [],\r\n    options: [],\r\n    answer: null,\r\n    score: 0,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const response = await countriesService.get('/all', {\r\n      params: {\r\n        fields: 'name;capital;latlng',\r\n      },\r\n    });\r\n\r\n    this.setState({\r\n      countries: response.data.filter((item) => {\r\n        return item.capital.length !== 0;\r\n      }),\r\n    });\r\n\r\n    this.setCountries();\r\n  }\r\n\r\n  onCountryClick = (answer) => {\r\n    // console.log(answer);\r\n\r\n    this.setState({\r\n      score:\r\n        answer === this.state.answer ? this.state.score + 1 : this.state.score,\r\n    });\r\n\r\n    this.setCountries();\r\n  };\r\n\r\n  setCountries = () => {\r\n    let options = this.chooseCountries(this.state.countries, 4);\r\n    const answer = Math.floor(Math.random() * options.length);\r\n    const capitalCity = options[answer].capital;\r\n    const lat = options[answer].latlng[0];\r\n    const long = options[answer].latlng[1];\r\n\r\n    this.setState({\r\n      capitalCity: capitalCity,\r\n      lat: lat,\r\n      long: long,\r\n      options: options.map((item) => {\r\n        return item.name;\r\n      }),\r\n      answer: answer,\r\n    });\r\n  };\r\n\r\n  chooseCountries(arr, n) {\r\n    let result = new Array(n),\r\n      len = arr.length,\r\n      taken = new Array(len);\r\n    if (n > len)\r\n      throw new RangeError('getRandom: more elements taken than available');\r\n    while (n--) {\r\n      let x = Math.floor(Math.random() * len);\r\n      result[n] = arr[x in taken ? taken[x] : x];\r\n      taken[x] = --len in taken ? taken[len] : len;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"ui container\" style={{ paddingTop: '50px' }}>\r\n        <div className=\"ui centered huge capitalCity\">\r\n          {this.state.capitalCity}\r\n        </div>\r\n        <Map\r\n          city={this.state.capitalCity}\r\n          lat={this.state.lat}\r\n          long={this.state.long}\r\n        />\r\n        <CountryList\r\n          countries={this.state.options}\r\n          onCountryClick={this.onCountryClick}\r\n        />\r\n        <div>\r\n          <h2 className=\"score\">Score: {this.state.score}</h2>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Game;\r\n","import React from 'react';\r\nimport Game from './Game.js';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return <Game />;\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(<App />, document.querySelector('#root'));\r\n"],"sourceRoot":""}