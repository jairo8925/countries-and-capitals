{"version":3,"sources":["apis/countries.js","components/CountryItem.js","components/CountryList.js","components/Map.js","components/LoadingScreen.js","sounds/correct.wav","sounds/wrong.wav","components/Game.js","components/App.js","index.js"],"names":["axios","create","baseURL","CountryItem","country","onCountryClick","option","className","onClick","name","alt","src","flags","png","CountryList","countries","Map","info","population","Number","toLocaleString","lat","latlng","long","region","subregion","languages","map","i","get","join","useState","setMap","flyTo","MapContainer","center","zoom","zoomControl","whenCreated","doubleClickZoom","touchZoom","zoomSnap","zoomDelta","trackResize","scrollWheelZoom","dragging","TileLayer","url","attribution","Marker","position","keepInView","Tooltip","permanent","LoadingScreen","props","message","defaultProps","Game","answer","audio","score","state","Audio","correctSoundEffect","wrongSoundEffect","volume","play","setState","attempts","setCountries","options","chooseCountries","Math","floor","random","length","capitalCity","capital","index","indexOf","splice","countryInfo","onResetClick","history","onAudioClick","total","a","countriesService","response","toDelete","Set","data","filter","obj","has","item","this","arr","n","result","Array","len","taken","RangeError","x","audioButton","resetButton","tabIndex","onHomeClick","city","React","Component","App","running","ReactDOM","render","document","querySelector"],"mappings":"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","file":"static/js/main.505240c4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"https://restcountries.com/v2\",\n});\n","import \"./CountryItem.css\";\nimport React from \"react\";\n\nconst CountryItem = ({ country, onCountryClick, option }) => {\n  return (\n    <div className='eight wide column center aligned'>\n      <div\n        className='ui huge segment country noselect'\n        onClick={() => onCountryClick(option)}\n      >\n        {country.name}\n        <img\n          className='flag'\n          alt={`Flag of ${country.name}`}\n          src={country.flags.png}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CountryItem;\n","import React from \"react\";\nimport CountryItem from \"./CountryItem\";\n\nconst CountryList = ({ countries, onCountryClick }) => {\n  return (\n    <div className='ui two centered grid'>\n      <div className='sixteen column centered row'>\n        <CountryItem\n          country={countries[0]}\n          onCountryClick={onCountryClick}\n          option={0}\n        />\n        <CountryItem\n          country={countries[1]}\n          onCountryClick={onCountryClick}\n          option={1}\n        />\n      </div>\n      <div className='sixteen column centered row'>\n        <CountryItem\n          country={countries[2]}\n          onCountryClick={onCountryClick}\n          option={2}\n        />\n        <CountryItem\n          country={countries[3]}\n          onCountryClick={onCountryClick}\n          option={3}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default CountryList;\n","import \"./Map.css\";\nimport React, { useState } from \"react\";\nimport { MapContainer, Marker, Tooltip, TileLayer } from \"react-leaflet\";\n\nconst Map = ({ info }) => {\n  const population = Number(info.population).toLocaleString();\n  const lat = Number(info.latlng[0]);\n  const long = Number(info.latlng[1]);\n  const region = info.subregion;\n  const languages = info.languages\n    .map((i) => {\n      return i.get;\n    })\n    .join(\", \");\n  // const currencies = info.currencies\n  //   .map((i) => {\n  //     return i.name;\n  //   })\n  //   .join(\", \");\n\n  const url = \"https://tiles.wmflabs.org/osm-no-labels/{z}/{x}/{y}.png\";\n\n  const [map, setMap] = useState(null);\n  if (map) {\n    map.flyTo([lat, long], 3);\n  }\n\n  return (\n    <MapContainer\n      center={[lat, long]}\n      zoom={3}\n      zoomControl={false}\n      whenCreated={setMap}\n      doubleClickZoom={false}\n      touchZoom={false}\n      zoomSnap={false}\n      zoomDelta={false}\n      trackResize={false}\n      scrollWheelZoom={false}\n      dragging={false}\n    >\n      <TileLayer\n        url={url}\n        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n      />\n      <Marker position={[lat, long]} keepInView={true}>\n        <Tooltip className='info' permanent>\n          <p>\n            <b>Population:</b> {population}\n          </p>\n          <p>\n            <b>Region:</b> {region}\n          </p>\n          <p>\n            <b>Languages:</b> {languages}\n          </p>\n        </Tooltip>\n      </Marker>\n    </MapContainer>\n  );\n};\n\nexport default Map;\n","import React from 'react';\n\nconst LoadingScreen = (props) => {\n  return (\n    <div className=\"ui active\">\n      <div className=\"ui big text loader\">{props.message}</div>\n    </div>\n  );\n};\n\nLoadingScreen.defaultProps = {\n  message: 'Loading...',\n};\n\nexport default LoadingScreen;\n","export default __webpack_public_path__ + \"static/media/correct.87ab3071.wav\";","export default __webpack_public_path__ + \"static/media/wrong.9ed0fe46.wav\";","import \"./Game.css\";\nimport React from \"react\";\nimport countriesService from \"../apis/countries\";\nimport CountryList from \"./CountryList\";\nimport Map from \"./Map\";\nimport LoadingScreen from \"./LoadingScreen\";\nimport correctSoundEffect from \"../sounds/correct.wav\";\nimport wrongSoundEffect from \"../sounds/wrong.wav\";\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      history: [],\n      capitalCity: \"\",\n      countries: [],\n      options: [],\n      answer: null,\n      score: 0,\n      countryInfo: null,\n      total: 0,\n      attempts: 0,\n      audio: true,\n    };\n  }\n\n  async componentDidMount() {\n    const response = await countriesService.get(\"/all\", {});\n    // Delete dependencies from question set (no easy way to do this at the moment :P)\n    const toDelete = new Set([\n      \"Åland Islands\",\n      \"American Samoa\",\n      \"Anguilla\",\n      \"Aruba\",\n      \"Azerbaijan\",\n      \"Bermuda\",\n      \"Bonaire, Sint Eustatius and Saba\",\n      \"Bouvet Island\",\n      \"British Indian Ocean Territory\",\n      \"United States Minor Outlying Islands\",\n      \"Virgin Islands (British)\",\n      \"Virgin Islands (U.S.)\",\n      \"Cayman Islands\",\n      \"Cocos (Keeling) Islands\",\n      \"Christmas Island\",\n      \"Cook Islands\",\n      \"Curaçao\",\n      \"Falkland Islands (Malvinas)\",\n      \"Faroe Islands\",\n      \"French Guiana\",\n      \"French Polynesia\",\n      \"French Southern Territories\",\n      \"Gibraltar\",\n      \"Guadeloupe\",\n      \"Guam\",\n      \"Guernsey\",\n      \"Heard Island and McDonald Islands\",\n      \"Holy See\",\n      \"Isle of Man\",\n      \"Jersey\",\n      \"Macao\",\n      \"Martinique\",\n      \"Mayotte\",\n      \"Montserrat\",\n      \"New Caledonia\",\n      \"Norfolk Island\",\n      \"Northern Mariana Islands\",\n      \"Réunion\",\n      \"Saint Barthélemy\",\n      \"Saint Helena, Ascension and Tristan da Cunha\",\n      \"Saint Martin (French part)\",\n      \"Saint Pierre and Miquelon\",\n      \"Sint Maarten (Dutch part)\",\n      \"South Georgia and the South Sandwich Islands\",\n      \"Svalbard and Jan Mayen\",\n      \"Tokelau\",\n      \"Turks and Caicos Islands\",\n      \"Uzbekistan\",\n      \"Wallis and Futuna\",\n      \"Western Sahara\",\n    ]);\n    response.data = response.data.filter((obj) => !toDelete.has(obj.name));\n    const countries = response.data.filter((item) => {\n      return item.capital && item.capital.length !== 0;\n    });\n\n    // countries.forEach((e) => console.log(e.name));\n\n    this.setState({\n      countries,\n      history: countries,\n      total: countries.length - 4,\n    });\n\n    this.setCountries();\n  }\n\n  onCountryClick = (answer) => {\n    let score = this.state.score;\n    let audio;\n    if (answer === this.state.answer) {\n      audio = new Audio(correctSoundEffect);\n      score++;\n    } else {\n      audio = new Audio(wrongSoundEffect);\n      audio.volume = 0.15;\n    }\n\n    if (this.state.audio) {\n      audio.play();\n    }\n\n    this.setState({\n      attempts: this.state.attempts + 1,\n      score,\n    });\n\n    this.setCountries();\n  };\n\n  setCountries = () => {\n    const options = this.chooseCountries(this.state.countries, 4);\n    const answer = Math.floor(Math.random() * options.length);\n    const capitalCity = options[answer].capital;\n\n    let countries = this.state.countries;\n    const index = countries.indexOf(options[answer]);\n    countries.splice(index, 1);\n\n    const countryInfo = options[answer];\n\n    this.setState({\n      countryInfo,\n      countries,\n      capitalCity,\n      answer,\n      options,\n    });\n  };\n\n  chooseCountries(arr, n) {\n    let result = new Array(n),\n      len = arr.length,\n      taken = new Array(len);\n    if (n > len)\n      throw new RangeError(\n        \"chooseCountries: more elements taken than available\"\n      );\n    while (n--) {\n      let x = Math.floor(Math.random() * len);\n      result[n] = arr[x in taken ? taken[x] : x];\n      taken[x] = --len in taken ? taken[len] : len;\n    }\n    return result;\n  }\n\n  onResetClick = () => {\n    this.setState({\n      countries: this.state.history,\n      capitalCity: \"\",\n      options: [],\n      answer: null,\n      score: 0,\n      countryInfo: null,\n      attempts: 0,\n    });\n    this.setCountries();\n  };\n\n  onAudioClick = () => {\n    this.setState({\n      audio: !this.state.audio,\n    });\n  };\n\n  render() {\n    if (!this.state.countryInfo) {\n      return <LoadingScreen />;\n    }\n\n    let resetButton = (\n      <div\n        className='ui right floated secondary animated button resetButton'\n        onClick={this.onResetClick}\n        tabIndex='0'\n      >\n        <div className='visible content'>Reset</div>\n        <div className='hidden content'>\n          <i className='undo alternate icon'></i>\n        </div>\n      </div>\n    );\n\n    if (this.state.countries.length - 4 === 0) {\n      return (\n        <div className='score-container'>\n          <div className='final-score'>\n            <h1>\n              Final Score: {this.state.score} out of {this.state.total}\n            </h1>\n            <button\n              className='ui start-over-button primary button'\n              onClick={this.onResetClick}\n            >\n              Start Over\n            </button>\n          </div>\n        </div>\n      );\n    }\n\n    let audioButton;\n    if (this.state.audio) {\n      audioButton = (\n        <button\n          className='positive ui right floated button audioButton'\n          onClick={this.onAudioClick}\n        >\n          Audio On\n        </button>\n      );\n    } else {\n      audioButton = (\n        <button\n          className='negative ui right floated button audioButton'\n          onClick={this.onAudioClick}\n        >\n          Audio Off\n        </button>\n      );\n    }\n\n    return (\n      <div className='ui container game'>\n        <div className='three ui buttons buttons-container'>\n          {audioButton}\n          <button\n            className='ui primary icon button'\n            onClick={this.props.onHomeClick}\n          >\n            <i className='home icon'></i>\n          </button>\n          {resetButton}\n        </div>\n        <Map info={this.state.countryInfo} city={this.state.capitalCity} />\n        <div className='ui centered huge header capital-city noselect'>\n          {this.state.capitalCity}\n        </div>\n        <div className='ui score huge header noselect'>\n          Score: {this.state.score}{\" \"}\n          {this.state.attempts !== 0\n            ? `out of ${this.state.total} (${\n                this.state.attempts - this.state.score\n              } wrong)`\n            : \"\"}{\" \"}\n        </div>\n        <CountryList\n          countries={this.state.options}\n          onCountryClick={this.onCountryClick}\n        />\n      </div>\n    );\n  }\n}\n\nexport default Game;\n","import './App.css';\nimport React from 'react';\nimport Game from './Game.js';\n\nclass App extends React.Component {\n  state = { running: false };\n\n  onHomeClick = () => {\n    this.setState({ running: false });\n  };\n\n  render() {\n    if (this.state.running) {\n      return <Game onHomeClick={this.onHomeClick} />;\n    }\n\n    return (\n      <div className=\"home-container\">\n        <div className=\"title\">\n          <h1>Countries and Capitals</h1>\n          <p>Choose which country the capital city belongs</p>\n          <button\n            className=\"ui start-button primary button\"\n            onClick={() => this.setState({ running: true })}\n          >\n            Start\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.querySelector('#root'));\n"],"sourceRoot":""}