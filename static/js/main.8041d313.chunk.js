(this["webpackJsonpcountries-and-capitals"]=this["webpackJsonpcountries-and-capitals"]||[]).push([[0],{25:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r=n(2),s=n.n(r),a=n(17),c=n.n(a),o=n(3),i=n(4),l=n(6),u=n(5),d=n(8),b=n.n(d),j=n(18),h=(n(25),n(19)),C=n.n(h).a.create({baseURL:"https://restcountries.eu/rest/v2"}),y=n(0),p=function(e){var t=e.country,n=e.onCountryClick,r=e.option,s=e.answer,a=e.selectedCountry,c=e.disabled;return Object(y.jsx)("div",{className:"six wide column center aligned",children:Object(y.jsx)("div",{className:"ui massive segment city",onClick:function(){return n(r)},disabled:c,style:{backgroundColor:a?a===s?"green":"red":"transparent"},children:t})})},m=function(e){var t=e.countries,n=e.onCountryClick,r=e.answer,s=e.selectedCountry,a=e.disabled;return Object(y.jsxs)("div",{className:"ui two centered grid",children:[Object(y.jsxs)("div",{className:"sixteen column centered row",children:[Object(y.jsx)(p,{country:t[0],onCountryClick:n,option:0,answer:r,selectedCountry:s,disabled:a}),Object(y.jsx)(p,{country:t[1],onCountryClick:n,option:1,answer:r,selectedCountry:s,disabled:a})]}),Object(y.jsxs)("div",{className:"sixteen column centered row",children:[Object(y.jsx)(p,{country:t[2],onCountryClick:n,option:2,answer:r,selectedCountry:s,disabled:a}),Object(y.jsx)(p,{country:t[3],onCountryClick:n,option:3,answer:r,selectedCountry:s,disabled:a})]})]})},v=function(e){return Object(y.jsx)("div",{className:"ui active dimmer",children:Object(y.jsx)("div",{className:"ui big text loader",children:e.message})})};v.defaultProps={message:"Loading..."};var f=v,O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).state={capitalCity:"",countries:[],answer:null,score:0,selectedCountry:null,disabled:!1},e.onCountryClick=function(t){e.state.disabled||(e.setState({selectedCountry:t,disabled:!0},(function(){return console.log("Selected option",e.state.selectedCountry)})),t===e.state.answer?(console.log("Correct."),e.setState((function(e){return{score:e.score+1}}))):console.log("Wrong."),e.setCountries())},e.setCountries=Object(j.a)(b.a.mark((function t(){var n,r,s,a,c,o=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.length>0&&void 0!==o[0]?o[0]:2e3,t.next=3,C.get("/all",{params:{fields:"name;capital"}});case 3:n=t.sent,r=e.chooseCountries(n.data,4),s=r.map((function(e){return e.name})),a=e.chooseAnswer(r),console.log("Answer:",a),c=r[a].capital,setTimeout((function(){e.setState({capitalCity:c,countries:s,answer:a,selectedCountry:null,disabled:!1})}),0);case 10:case"end":return t.stop()}}),t)}))),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setCountries(2e3)}},{key:"chooseAnswer",value:function(e){for(var t=Math.floor(Math.random()*e.length),n=e[t].capital;!n;)n=e[t=(t+1)%4].capital;return t}},{key:"chooseCountries",value:function(e,t){var n=new Array(t),r=e.length,s=new Array(r);if(t>r)throw new RangeError("getRandom: more elements taken than available");for(;t--;){var a=Math.floor(Math.random()*r);n[t]=e[a in s?s[a]:a],s[a]=--r in s?s[r]:r}return n}},{key:"render",value:function(){return this.state.capitalCity?Object(y.jsxs)("div",{className:"ui container",children:[Object(y.jsx)("div",{className:"ui centered huge header",children:this.state.capitalCity}),Object(y.jsx)(m,{countries:this.state.countries,onCountryClick:this.onCountryClick,answer:this.state.answer,selectedCountry:this.state.selectedCountry,disabled:this.state.disabled}),Object(y.jsx)("div",{children:Object(y.jsx)("h2",{className:"score",children:this.state.score})})]}):Object(y.jsx)(f,{})}}]),n}(s.a.Component),w=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(y.jsx)(O,{})}}]),n}(s.a.Component);c.a.render(Object(y.jsx)(w,{}),document.querySelector("#root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.8041d313.chunk.js.map